# Available parameters and their default values for the Vault chart.
global:
  tlsDisable: false
  openshift: true
  vaultBootstrap: true

### Custom part for Vault Bootstraper
vaultBootstrap:
  image: quay.io/radudd/vault-bootstrap:master
  vaultKeyShares: 1
  vaultKeyThreshold: 1
  # All capabilities are enabled by default. Switch to false if you don't wish any of them
  vaultInit: true
  vaultK8sSecret: true
  vaultUnseal: true
  vaultK8sAuth: true
  # init job will wait for the members specified below to be in running status before they kick in
  # additionally members in this list are used as input for the unseal part
  vaultClusterMembers: 
  storageClusterMembers: 
### 

server:
  route:
    enabled: true
    host: vault.example.com
  ha:
    enabled: true
    replicas: 3
    config: |
      ui = true
      listener "tcp" {
        address = "[::]:8200"
        cluster_address = "[::]:8201"
        tls_cert_file = "/var/run/secrets/kubernetes.io/certs/tls.crt"
        tls_key_file = "/var/run/secrets/kubernetes.io/certs/tls.key"
      }
      storage "consul" {
        path = "vault"
        address = "vault-backend-consul-server:8500"
      }
      telemetry {
        prometheus_retention_time = "30s"
        disable_hostname = true
      }
      service_registration "kubernetes" {}

consul:
  global:
    openshift:
      enabled: "true"
  nameOverride: backend-consul
  client:
    enabled: false
  server:
    replicas: 3
    storageClass: local-sc
    storage: 5Gi
    affinity: ""
